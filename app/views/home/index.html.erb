<div class="container p-6 mx-auto">
<h1 class="text-3xl font-bold text-center my-8 pt-20" style="margin-top: -2rem;">Library Management</h1>


<div class="container mx-auto mt-8">
  <h2 class="mb-4 text-xl font-semibold text-gray-700">Authors and Books</h2>
  <table class="min-w-full bg-white border rounded-lg shadow-md">
    <thead>
      <tr>
        <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase border-b">Author</th>
        <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase border-b">Books</th>
      </tr>
    </thead>
    <tbody>
      <% @authors.each do |author| %>
        <tr>
          <td class="px-6 py-4 border-b text-gray-800 font-semibold"><%= author.name %></td>
          <td class="px-6 py-4 border-b">
            <ul>
              <% author.books.each do |book| %>
                <li>
                  <%= link_to book.title, book_path(book), class: "text-blue-500 hover:underline" %>
                </li>
              <% end %>
            </ul>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="mt-4">
      <%= link_to 'View All Authors', authors_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
      <%= link_to 'View All Books', books_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
      <%= link_to 'New Author', new_author_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
      <%= link_to 'New Book', new_book_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
  </div>
</div><br>

<div class="container mx-auto mt-8">
  <h2 class="mb-4 text-xl font-semibold text-gray-700">Borrowers</h2>
  <table class="min-w-full bg-white border rounded-lg shadow-md">
    <thead>
      <tr>
        <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase border-b">Borrowers</th>
      </tr>
    </thead>
    <tbody>
      <% @borrowers.each do |borrower| %>
        <tr>
          <td class="px-6 py-4 border-b text-gray-800 font-semibold"><%= borrower.name %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="mt-4">
      <%= link_to 'View All Borrowers', borrowers_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
      <%= link_to 'New Borrower', new_borrower_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
  </div>
</div><br>

<div class="container mx-auto mt-8">
  <h2 class="mb-4 text-xl font-semibold text-gray-700">Borrowings</h2>
  <table class="min-w-full bg-white border rounded-lg shadow-md">
    <thead>
      <tr>
        <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase border-b">Borrowings</th>
      </tr>
    </thead>
    <tbody>
       <% counter = 1 %>
        <% @borrowings.each do |borrowing| %>
          <tr class="border-b hover:bg-gray-50">
            <td class="px-6 py-4 text-gray-800 font-semibold">
              <%= link_to "#{counter}", borrowing_path(borrowing), class: "text-blue-500 hover:underline" %>
            </td>
            <td class="px-6 py-4">
              <%= borrowing.borrower.name if borrowing.borrower %>
            </td>
            <td class="px-6 py-4">
              <%= borrowing.book.title if borrowing.book %>
            </td>
            <td class="px-6 py-4">
              <%= borrowing.borrowed_on.strftime("%B %d, %Y %I:%M %p") %>
            </td>
            <td class="px-6 py-4">
              <%= borrowing.returned_on.strftime("%B %d, %Y %I:%M %p") %>
            </td>
            <td class="px-6 py-4">
              <%= link_to "Edit", edit_borrowing_path(borrowing), class: "text-blue-500 hover:underline mr-4" %>
              <%= link_to "Delete", borrowing, method: :delete, data: { confirm: "Are you sure?" }, class: "text-red-500 hover:underline" %>
            </td>
          </tr>
          <% counter += 1 %>
        <% end %>
    </tbody>
  </table>
  <div class="mt-4">
      <%= link_to 'View All Borrowings', borrowings_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
      <%= link_to 'New Borrowings', new_borrowing_path, class: "text-blue-600 hover:text-blue-800 font-semibold" %>
  </div>
</div><br>

</div>
